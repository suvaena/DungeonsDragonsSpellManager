<h1>All Books</h1>
<p id="notice"><%= flash[:notice] %></p>

<style>
/* unvisited link */
a:link {
  color: blue;
}

/* visited link */
a:visited {
  color: blue;
}

/* mouse over link */
a:hover {
  color: purple;
}
</style>

<p>
<%= link_to 'New Book', new_book_path %> |
<%= link_to "Home", root_path %>    
</p>

<table>
  <thead>
    <tr>
      <th>Spellcount <% books_path(order_by:'name') %></th>
      <th>Name <% books_path(order_by:'name') %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><% y = book.spells %><% counter = 0 %><% y.each do |spell| %><% counter = counter +1 %><% end %><%= counter %></td>
        <td><%= link_to book.name, book %></td><td><%= form_with model: book, method: :delete, local: true do |f| %>
            <%= f.submit 'Delete' %>
            <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>